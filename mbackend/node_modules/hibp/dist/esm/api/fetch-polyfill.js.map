{"version":3,"file":"fetch-polyfill.js","sources":["../../../src/api/fetch-polyfill.ts"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-require-imports */\n\n// This can probably be removed in favor of Node's native fetch once we drop\n// support for v18. https://x.com/ebey_jacob/status/1709975146939973909?s=20\n\nexport function installUndiciOnNode18() {\n  /* c8 ignore start */\n  if (typeof process !== 'undefined' && process.versions?.node?.startsWith('18.')) {\n    const {\n      File: UndiciFile,\n      fetch: undiciFetch,\n      FormData: UndiciFormData,\n      Headers: UndiciHeaders,\n      Request: UndiciRequest,\n      Response: UndiciResponse,\n    } = require('undici');\n    global.File = UndiciFile as unknown as typeof File;\n    global.Headers = UndiciHeaders;\n    global.Request = UndiciRequest;\n    global.Response = UndiciResponse;\n    global.fetch = undiciFetch;\n    global.FormData = UndiciFormData;\n  }\n  /* c8 ignore stop */\n}\n"],"names":["installUndiciOnNode18","process","versions","node","startsWith","File","UndiciFile","fetch","undiciFetch","FormData","UndiciFormData","Headers","UndiciHeaders","Request","UndiciRequest","Response","UndiciResponse","require","global"],"mappings":"AAAA;AAEA;AACA;SAEgBA,qBAAqBA,CAAA,EAAA;;EAEnC,IAAI,OAAOC,OAAO,KAAK,WAAW,IAAIA,OAAO,CAACC,QAAQ,EAAEC,IAAI,EAAEC,UAAU,CAAC,KAAK,CAAC,EAAE;IAC/E,MAAM;MACJC,IAAI,EAAEC,UAAU;MAChBC,KAAK,EAAEC,WAAW;MAClBC,QAAQ,EAAEC,cAAc;MACxBC,OAAO,EAAEC,aAAa;MACtBC,OAAO,EAAEC,aAAa;MACtBC,QAAQ,EAAEC;IACX,CAAA,GAAGC,OAAO,CAAC,QAAQ,CAAC;IACrBC,MAAM,CAACb,IAAI,GAAGC,UAAoC;IAClDY,MAAM,CAACP,OAAO,GAAGC,aAAa;IAC9BM,MAAM,CAACL,OAAO,GAAGC,aAAa;IAC9BI,MAAM,CAACH,QAAQ,GAAGC,cAAc;IAChCE,MAAM,CAACX,KAAK,GAAGC,WAAW;IAC1BU,MAAM,CAACT,QAAQ,GAAGC,cAAc;;;AAGpC;"}